@using System.ComponentModel.DataAnnotations
@using Undersoft.SDK.Rubrics
@using Undersoft.SDK.Invoking
@using Undersoft.SDK.Proxies

@inherits ViewItem<TMenu>

@typeparam TMenu where TMenu : class, IOrigin, IInnerProxy

<div class="generic nav-menu">
    <CascadingValue Value="@Data">
        <CascadingValue Value="@Root">
            <FluentAccordion ActiveId="@ActiveId" ExpandMode="AccordionExpandMode.Single">
                @foreach (var rubric in Data.Rubrics)
                {
                    <FluentAccordionItem Class="fluent-nav-group fluent-nav-item">
                        <HeadingTemplate>
                            <FluentIcon Value="@(rubric.Icon)" Color="Color.FillInverse" Title="@rubric.DisplayName" Slot="start" />
                            <FluentLabel Typo="Typography.H6" Weight="FontWeight.Bold" Color="Color.Lightweight">
                                @rubric.DisplayName
                            </FluentLabel>
                        </HeadingTemplate>
                        <ChildContent>
                            <GenericNav Rubric="@rubric" Data="@(Data[rubric.RubricId])" Parent="this" />
                        </ChildContent>
                    </FluentAccordionItem>
                }
            </FluentAccordion>
        </CascadingValue>
    </CascadingValue>
</div>




