@using System.ComponentModel.DataAnnotations
@using FluentValidation
@using Undersoft.SDK.Proxies
@using Undersoft.SDK.Rubrics
@using Undersoft.SDK
@using Undersoft.SDK.Invoking

@inherits ViewItem<TMenu>

@typeparam TMenu where TMenu : class, IOrigin, IInnerProxy

<FluentNavMenu @bind-Expanded="@Expanded" Style="@Style" @ref="@Reference">
    
    <CascadingValue Value="@Root">
        
        @if (Collapsible)
        {
            @if (CollapseOnOverlayClick)
            {
                <FluentOverlay @bind-Visible="@Expanded" OnClose="CollapseAsync" Transparent="true" FullScreen="true" />
            }
            <FluentKeyCode Anchor="@AnchorId" OnKeyDown="@HandleExpandCollapseKeyDownAsync" />
        }

        <GenericNavSet TMenu="TMenu" Parent="this" />

    </CascadingValue>

</FluentNavMenu>



