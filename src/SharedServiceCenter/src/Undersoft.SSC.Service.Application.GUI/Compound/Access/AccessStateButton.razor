@using Microsoft.AspNetCore.Components.Authorization
@using Undersoft.SDK.Security;

@inject NavigationManager Navigation

<AuthorizeView>
    <Authorized>
        @context.User.Identity?.Name
        <FluentButton OnClick="@BeginSignOut" Appearance="Appearance.Lightweight">
            Sign out
        </FluentButton>
    </Authorized>
    <NotAuthorized>
        <FluentButton OnClick="@BeginSignIn" Appearance="Appearance.Lightweight">
            Sign in
        </FluentButton>
    </NotAuthorized>
</AuthorizeView>

@code{
    private void BeginSignOut(MouseEventArgs args)
    {
        Navigation.NavigateTo("access/sign_out");
    }

    private void BeginSignIn(MouseEventArgs args)
    {
        Navigation.NavigateTo("access/sign_in");
    }
}
